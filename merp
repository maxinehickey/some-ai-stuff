import React from 'react';
import { render, screen, fireEvent } from '@testing-library/react';
import { AuthProvider } from './AuthContext';
import LogoutButton from './LogoutButton';

describe('LogoutButton', () => {
  it('should render and call logout on click', () => {
    const mockLogout = jest.fn();
    
    // Mock useAuth to return the mockLogout function
    jest.spyOn(require('./AuthContext'), 'useAuth').mockReturnValue({ logout: mockLogout });

    render(
      <AuthProvider>
        <LogoutButton />
      </AuthProvider>
    );

    const button = screen.getByText('Logout');
    fireEvent.click(button);  // Simulate click

    expect(mockLogout).toHaveBeenCalledTimes(1);  // Check if logout was called
  });
});
